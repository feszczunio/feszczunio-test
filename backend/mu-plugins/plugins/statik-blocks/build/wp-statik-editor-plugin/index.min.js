!function(){var t={725:function(){},312:function(){}},e={};function n(o){var r=e[o];if(void 0!==r)return r.exports;var i=e[o]={exports:{}};return t[o](i,i.exports,n),i.exports}n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,{a:e}),e},n.d=function(t,e){for(var o in e)n.o(e,o)&&!n.o(t,o)&&Object.defineProperty(t,o,{enumerable:!0,get:e[o]})},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})};var o={};!function(){"use strict";n.r(o);var t={};n.r(t),n.d(t,{getBlockIdByName:function(){return a},getBlockIdPrefix:function(){return u},getEditorBlockIdByName:function(){return d},getOverriddenBlocks:function(){return s},getUnregisteredBlocks:function(){return l}});var e={};n.r(e),n.d(e,{addOverriddenBlock:function(){return k},addUnregisteredBlock:function(){return b},incrementBlockId:function(){return f},incrementEditorBlockId:function(){return B},resetEditorBlockId:function(){return p},setBlockIdPrefix:function(){return m}});var r=window.wp.hooks,i=window.wp.plugins,c=window.wp.data;function s(t){const{overriddenBlocks:e}=t;return e}function l(t){const{unregisteredBlocks:e}=t;return e}function a(t,e){var n;const{blockIdByName:o}=t;return null!==(n=o[e])&&void 0!==n?n:0}function d(t,e){var n;const{editorBlockIdByName:o}=t;return null!==(n=o[e])&&void 0!==n?n:0}function u(t){const{blockIdPrefix:e}=t;return e}function k(t){return{type:_.ADD_OVERRIDDEN_BLOCK,block:t}}function b(t){return{type:_.ADD_UNREGISTERED_BLOCK,block:t}}function f(t){return{type:_.INC_BLOCK_ID,block:t}}function B(t){return{type:_.INC_EDITOR_BLOCK_ID,block:t}}function p(){return{type:_.RESET_EDITOR_BLOCK_ID}}function m(t){return{type:_.SET_BLOCK_ID_PREFIX,prefix:t}}var I=n(312);const g={overriddenBlocks:[],unregisteredBlocks:[],blockIdByName:{},editorBlockIdByName:{},blockIdPrefix:null};function E(){var t,e;let n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:g,o=arguments.length>1?arguments[1]:void 0;switch(o.type){case _.ADD_OVERRIDDEN_BLOCK:return{...n,overriddenBlocks:[...n.overriddenBlocks,o.block]};case _.ADD_UNREGISTERED_BLOCK:return{...n,unregisteredBlocks:[...n.unregisteredBlocks,o.block]};case _.INC_BLOCK_ID:return{...n,blockIdByName:{...n.blockIdByName,[o.block]:(null!==(t=n.blockIdByName[o.block])&&void 0!==t?t:0)+1}};case _.INC_EDITOR_BLOCK_ID:return{...n,editorBlockIdByName:{...n.editorBlockIdByName,[o.block]:(null!==(e=n.editorBlockIdByName[o.block])&&void 0!==e?e:0)+1}};case _.RESET_EDITOR_BLOCK_ID:return{...n,editorBlockIdByName:{}};case _.SET_BLOCK_ID_PREFIX:return{...n,blockIdPrefix:o.prefix}}return n}var w=n(725),v=n.n(w);const _={ADD_OVERRIDDEN_BLOCK:"ADD_OVERRIDDEN_BLOCK",ADD_UNREGISTERED_BLOCK:"ADD_UNREGISTERED_BLOCK",SET_BLOCK_ID_PREFIX:"SET_BLOCK_ID_PREFIX",INC_BLOCK_ID:"INC_BLOCK_ID",INC_EDITOR_BLOCK_ID:"INC_EDITOR_BLOCK_ID",RESET_EDITOR_BLOCK_ID:"RESET_EDITOR_BLOCK_ID"};var y=window.lodash,D=window.statik.editorUtils,O=window.wp.element,h=window.wp.compose;const C=(0,h.createHigherOrderComponent)((t=>e=>((0,D.useSetBlockAtts)(),(0,O.createElement)(t,e))),"withBlockAttsAttribute"),N=(0,h.createHigherOrderComponent)((t=>e=>((0,D.useSetBlockProps)(),(0,O.createElement)(t,e))),"withBlockPropsAttribute");let R;const S=new Uint8Array(16);function P(){if(!R&&(R="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!R))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return R(S)}const L=[];for(let t=0;t<256;++t)L.push((t+256).toString(16).slice(1));let T,A,K=0,F=0;var x=function(t,e,n){let o=e&&n||0;const r=e||new Array(16);let i=(t=t||{}).node||T,c=void 0!==t.clockseq?t.clockseq:A;if(null==i||null==c){const e=t.random||(t.rng||P)();null==i&&(i=T=[1|e[0],e[1],e[2],e[3],e[4],e[5]]),null==c&&(c=A=16383&(e[6]<<8|e[7]))}let s=void 0!==t.msecs?t.msecs:Date.now(),l=void 0!==t.nsecs?t.nsecs:F+1;const a=s-K+(l-F)/1e4;if(a<0&&void 0===t.clockseq&&(c=c+1&16383),(a<0||s>K)&&void 0===t.nsecs&&(l=0),l>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");K=s,F=l,A=c,s+=122192928e5;const d=(1e4*(268435455&s)+l)%4294967296;r[o++]=d>>>24&255,r[o++]=d>>>16&255,r[o++]=d>>>8&255,r[o++]=255&d;const u=s/4294967296*1e4&268435455;r[o++]=u>>>8&255,r[o++]=255&u,r[o++]=u>>>24&15|16,r[o++]=u>>>16&255,r[o++]=c>>>8|128,r[o++]=255&c;for(let t=0;t<6;++t)r[o+t]=i[t];return e||function(t,e=0){return(L[t[e+0]]+L[t[e+1]]+L[t[e+2]]+L[t[e+3]]+"-"+L[t[e+4]]+L[t[e+5]]+"-"+L[t[e+6]]+L[t[e+7]]+"-"+L[t[e+8]]+L[t[e+9]]+"-"+L[t[e+10]]+L[t[e+11]]+L[t[e+12]]+L[t[e+13]]+L[t[e+14]]+L[t[e+15]]).toLowerCase()}(r)},j=window.wp.tokenList,V=n.n(j);function M(t,e,n){const o="wp-block-",r=new(V())(t);return e&&r.remove(`${o}${e}`),r.add(`${o}${n}`),r.value}const U=(0,h.createHigherOrderComponent)((t=>e=>{const{attributes:n,setAttributes:o,clientId:r,name:i}=e,{blockId:c,className:s}=n,l=(0,D.useBlockId)(i,r),a=t=>{o({className:M(s,c,t),blockId:t})};return(0,O.useEffect)((()=>{if((0,D.hasBlockIdAttributeDefinition)(i)){if(c)return $(i,c,r)?(console.log(`Block with type: '${i}' and id: '${c}' already exists. Regenerating id...`),void a(l)):void a(c);a(l)}}),[]),(0,O.createElement)(t,e)}),"withBlockId"),$=(t,e,n)=>{const{getClientIdsWithDescendants:o,getBlockName:r,getBlockAttributes:i}=(0,c.select)("core/block-editor");return o().some((o=>{const c=r(o);if(t!==c)return!1;const{blockId:s}=i(o);return n!==o&&e===s}))};var G=window.wp.blockEditor,H=window.wp.components,W=window.wp.i18n,X=window.wp.blocks;const q="is-font-variation-",z=(0,h.createHigherOrderComponent)((t=>e=>{const{name:n}=e,o=(0,X.hasBlockSupport)(n,"typography");return(0,O.createElement)(O.Fragment,null,(0,O.createElement)(t,e),o&&(0,O.createElement)(J,null))}),"withBlockFontVariations"),J=()=>{const{attributes:t,setAttributes:e}=(0,D.useBlockAttributes)(),{className:n=""}=t,o=function(){var t;const e=null!==(t=(0,G.useSetting)("custom.font-variations"))&&void 0!==t?t:Q;return(0,O.useMemo)((()=>[{slug:"default",name:"Default",key:"default",className:`${q}default`,isDefault:!0},...e.map((t=>({...t,key:t.slug,className:`${q}${t.slug}`})))]),[e])}(),r=Y(o,n);return(0,O.createElement)(G.InspectorControls,null,(0,O.createElement)(H.PanelBody,{title:(0,W.__)("Font Variations","statik"),initialOpen:!0},(0,O.createElement)(H.CustomSelectControl,{className:"statik-font-variations-control",options:o,value:r,onChange:t=>{let{selectedItem:o}=t;(t=>{const o=Z(n,r,t);e({className:o})})(o)}})))},Q=[],Y=(t,e)=>{for(const n of new(V())(e).values()){if(-1===n.indexOf(q))continue;const e=n.substring(q.length),o=(0,y.find)(t,{slug:e});if(o)return o}return(0,y.find)(t,"isDefault")},Z=(t,e,n)=>{const o=new(V())(t);return e&&o.remove(q+e.slug),o.add(q+n.slug),o.value};var tt=window.wp.editPost;function et(){const{getEditorMode:t}=(0,c.useSelect)("core/edit-post");return(0,O.createElement)(H.Panel,null,(0,O.createElement)(H.PanelBody,{title:"Blocks Management",initialOpen:!0},(0,O.createElement)(H.PanelRow,null,(0,O.createElement)(H.BaseControl,{help:"Goes through the all blocks and regenerates the `blockId` and the `wp-block-<blockId>` classname. Available only in `visual` editor mode.",hideLabelFromVision:!0},(0,O.createElement)(H.Button,{variant:"secondary",onClick:nt,style:{display:"block",width:"100%"},disabled:"visual"!==t()},"Regenerate Blocks IDs")))))}function nt(){const{getBlockName:t,getBlockAttributes:e,getClientIdsWithDescendants:n}=(0,c.select)("core/block-editor"),{updateBlockAttributes:o}=(0,c.dispatch)("core/block-editor");(0,c.dispatch)("statik").resetEditorBlockId(),n().forEach((n=>{const r=t(n);if(!(0,D.hasBlockIdAttributeDefinition)(r))return;const i=e(n),{blockId:c,className:s=""}=i;if((0,y.isNil)(c))return;const l=(0,D.getBlockId)(r,n),a=M(s,c,l);o(n,{className:a,blockId:l})}))}const ot={render:function(){return(0,O.createElement)(O.Fragment,null,(0,O.createElement)(tt.PluginSidebarMoreMenuItem,{target:"statik-settings"},"Statik Settings (experimental)"),(0,O.createElement)(tt.PluginSidebar,{name:"statik-settings",title:"Statik Settings (experimental)"},(0,O.createElement)(et,null)))},icon:D.statik};var rt=window.wp.domReady,it=n.n(rt);!function(){const n=(0,c.createReduxStore)("statik",{selectors:t,actions:e,resolvers:I,reducer:E,controls:v()});(0,c.register)(n)}(),"1"===window.statikBlocks?.config?.coreBlocksEnabled&&it()((()=>{const t=["core/paragraph",...(0,c.select)("statik").getOverriddenBlocks()];(0,X.getBlockTypes)().forEach((function(e){const n=e.name.startsWith("core/"),o=t.includes(e.name);n&&!o&&((0,X.unregisterBlockType)(e.name),(0,c.dispatch)("statik").addUnregisteredBlock(e.name))}))})),(0,r.addFilter)("blocks.registerBlockType","statik/add-block-props-attribute-definition",(function(t){return void 0!==t.attributes&&(t.attributes=Object.assign(t.attributes,{blockProps:{type:"object",default:{}}})),t})),(0,r.addFilter)("blocks.registerBlockType","statik/add-block-atts-attribute-definition",(function(t){const e=t.name.startsWith("statik/"),n=void 0!==t.attributes;return e&&n&&(t.attributes=Object.assign(t.attributes,{blockAtts:{type:"object",default:{}}})),t})),(0,r.addFilter)("blocks.getBlockAttributes","statik/add-block-props-attribute-value",(function(t,e){if(!("blockProps"in e.attributes)||"object"!==e.attributes.blockProps.type)return t;const n=(0,r.applyFilters)("blocks.getSaveContent.extraProps",{},e,t);return(0,D.clearEmpties)(n),(0,y.assign)(t,{blockProps:n})})),(0,r.addFilter)("editor.BlockEdit","statik/with-block-props-attribute",N),(0,r.addFilter)("editor.BlockEdit","statik/with-block-atts-attribute",C),(0,r.addFilter)("blocks.registerBlockType","statik/add-block-id-attribute-definition",(function(t){const e=t.name.startsWith("statik/"),n=void 0!==t.attributes;return e&&n&&(t.attributes=Object.assign(t.attributes,{blockId:{type:"string"}})),t})),(0,r.addFilter)("blocks.getBlockAttributes","statik/add-block-id-attribute-value",(function(t,e,n,o){const r="blockId"in o;if(!("blockId"in e.attributes)||"string"!==e.attributes.blockId.type||r)return t;const i=(0,D.simpleHash)(x());return(0,y.assign)(t,{blockId:i})})),(0,r.addFilter)("editor.BlockEdit","statik/with-block-id",U),(0,r.addFilter)("editor.BlockEdit","statik/with-block-font-variations",z),(0,i.registerPlugin)("statik-settings",ot)}(),(window.statik=window.statik||{}).editorPlugin=o}();