!function(){"use strict";var t={d:function(e,o){for(var i in o)t.o(o,i)&&!t.o(e,i)&&Object.defineProperty(e,i,{enumerable:!0,get:o[i]})},o:function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r:function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})}},e={};t.r(e),t.d(e,{MicroModal:function(){return M},rwdAttribute:function(){return s}});const o=0,i=1,n=2,r=3,a=["default","desktop","tablet","mobile"],s=t=>new l(t);class l{attribute=[];constructor(t){this.attribute=[...t]}get default(){return this.attribute[o]}setDefault(t){this.attribute[o]=t}get desktop(){return this.attribute[i]}setDesktop(t){this.attribute[i]=t}get tablet(){return this.attribute[n]}setTablet(t){this.attribute[n]=t}get mobile(){return this.attribute[r]}setMobile(t){this.attribute[r]=t}getDeviceValue(t){const e=c(t);return this.attribute[e]}setDeviceValue(t,e){const o=c(t);this.attribute[o]=e}get inherit(){return{default:u(this.attribute,o),desktop:u(this.attribute,i),tablet:u(this.attribute,n),mobile:u(this.attribute,r)}}assignObject(){for(var t=arguments.length,e=new Array(t),o=0;o<t;o++)e[o]=arguments[o];return this.attribute=v(this.attribute,...e),this.attribute}assignArray(){for(var t=arguments.length,e=new Array(t),o=0;o<t;o++)e[o]=arguments[o];return this.attribute=g(this.attribute,...e),this.attribute}toRwd(){return this.attribute.map((t=>null!=t?t:""))}toObject(){return h(this.attribute)}}const c=t=>a.indexOf(t),u=function(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:o;if(!Array.isArray(t))throw new Error(`Attribute value has to be array, but ${typeof t} given.`);switch(e){case r:case n:case i:case o:return d(t,e);default:return d(t,o)}},d=(t,e)=>void 0!==t[e]&&null!==t[e]&&""!==t[e]||0===e?t[e]:d(t,Math.max(e-1,0)),h=t=>t.reduce(((t,e,o)=>{const i=(t=>a[t])(o);return t[i]=e,t}),{}),f=t=>a.reduce(((e,o,i)=>(e[i]=t[o],e)),[]),v=function(t){const e=h(t);for(var o=arguments.length,i=new Array(o>1?o-1:0),n=1;n<o;n++)i[n-1]=arguments[n];const r=Object.assign({},e,...i);return f(r)},g=function(t){for(var e=arguments.length,o=new Array(e>1?e-1:0),i=1;i<e;i++)o[i-1]=arguments[i];return Object.entries(Object.assign({},t,...o)).sort(((t,e)=>parseInt(t[0])-parseInt(e[0]))).map((t=>t[1]))};function b(t){return function(t){if(Array.isArray(t))return m(t)}(t)||function(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||function(t,e){if(t){if("string"==typeof t)return m(t,e);var o=Object.prototype.toString.call(t).slice(8,-1);return"Object"===o&&t.constructor&&(o=t.constructor.name),"Map"===o||"Set"===o?Array.from(t):"Arguments"===o||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o)?m(t,e):void 0}}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function m(t,e){(null==e||e>t.length)&&(e=t.length);for(var o=0,i=new Array(e);o<e;o++)i[o]=t[o];return i}var y,p,w,k,E,A=(y=["a[href]","area[href]",'input:not([disabled]):not([type="hidden"]):not([aria-hidden])',"select:not([disabled]):not([aria-hidden])","textarea:not([disabled]):not([aria-hidden])","button:not([disabled]):not([aria-hidden])","iframe","object","embed","[contenteditable]",'[tabindex]:not([tabindex^="-"])'],p=function(){function t(e){var o=e.targetModal,i=e.triggers,n=void 0===i?[]:i,r=e.onShow,a=void 0===r?function(){}:r,s=e.onClose,l=void 0===s?function(){}:s,c=e.openTrigger,u=void 0===c?"data-micromodal-trigger":c,d=e.closeTrigger,h=void 0===d?"data-micromodal-close":d,f=e.openClass,v=void 0===f?"is-open":f,g=e.disableScroll,m=void 0!==g&&g,y=e.disableFocus,p=void 0!==y&&y,w=e.awaitCloseAnimation,k=void 0!==w&&w,E=e.awaitOpenAnimation,A=void 0!==E&&E,M=e.debugMode,C=void 0!==M&&M;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.modal=document.getElementById(o),this.config={debugMode:C,disableScroll:m,openTrigger:u,closeTrigger:h,openClass:v,onShow:a,onClose:l,awaitCloseAnimation:k,awaitOpenAnimation:A,disableFocus:p},n.length>0&&this.registerTriggers.apply(this,b(n)),this.onClick=this.onClick.bind(this),this.onKeydown=this.onKeydown.bind(this)}var e;return(e=[{key:"registerTriggers",value:function(){for(var t=this,e=arguments.length,o=new Array(e),i=0;i<e;i++)o[i]=arguments[i];o.filter(Boolean).forEach((function(e){e.addEventListener("click",(function(e){return t.showModal(e)}))}))}},{key:"showModal",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;this.activeElement=document.activeElement,this.modal.setAttribute("aria-hidden","false"),this.modal.classList.add(this.config.openClass),this.scrollBehaviour("disable"),this.addEventListeners(),this.config.awaitOpenAnimation?this.modal.addEventListener("animationend",(function e(){t.modal.removeEventListener("animationend",e,!1),t.setFocusToFirstNode()}),!1):this.setFocusToFirstNode(),this.config.onShow(this.modal,this.activeElement,e)}},{key:"closeModal",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,e=this.modal;if(this.modal.setAttribute("aria-hidden","true"),this.removeEventListeners(),this.scrollBehaviour("enable"),this.activeElement&&this.activeElement.focus&&this.activeElement.focus(),this.config.onClose(this.modal,this.activeElement,t),this.config.awaitCloseAnimation){var o=this.config.openClass;this.modal.addEventListener("animationend",(function t(){e.classList.remove(o),e.removeEventListener("animationend",t,!1)}),!1)}else e.classList.remove(this.config.openClass)}},{key:"closeModalById",value:function(t){this.modal=document.getElementById(t),this.modal&&this.closeModal()}},{key:"scrollBehaviour",value:function(t){if(this.config.disableScroll){var e=document.querySelector("body");switch(t){case"enable":Object.assign(e.style,{overflow:""});break;case"disable":Object.assign(e.style,{overflow:"hidden"})}}}},{key:"addEventListeners",value:function(){this.modal.addEventListener("touchstart",this.onClick),this.modal.addEventListener("click",this.onClick),document.addEventListener("keydown",this.onKeydown)}},{key:"removeEventListeners",value:function(){this.modal.removeEventListener("touchstart",this.onClick),this.modal.removeEventListener("click",this.onClick),document.removeEventListener("keydown",this.onKeydown)}},{key:"onClick",value:function(t){(t.target.hasAttribute(this.config.closeTrigger)||t.target.parentNode.hasAttribute(this.config.closeTrigger))&&(t.preventDefault(),t.stopPropagation(),this.closeModal(t))}},{key:"onKeydown",value:function(t){27===t.keyCode&&this.closeModal(t),9===t.keyCode&&this.retainFocus(t)}},{key:"getFocusableNodes",value:function(){var t=this.modal.querySelectorAll(y);return Array.apply(void 0,b(t))}},{key:"setFocusToFirstNode",value:function(){var t=this;if(!this.config.disableFocus){var e=this.getFocusableNodes();if(0!==e.length){var o=e.filter((function(e){return!e.hasAttribute(t.config.closeTrigger)}));o.length>0&&o[0].focus(),0===o.length&&e[0].focus()}}}},{key:"retainFocus",value:function(t){var e=this.getFocusableNodes();if(0!==e.length)if(e=e.filter((function(t){return null!==t.offsetParent})),this.modal.contains(document.activeElement)){var o=e.indexOf(document.activeElement);t.shiftKey&&0===o&&(e[e.length-1].focus(),t.preventDefault()),!t.shiftKey&&e.length>0&&o===e.length-1&&(e[0].focus(),t.preventDefault())}else e[0].focus()}}])&&function(t,e){for(var o=0;o<e.length;o++){var i=e[o];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}(t.prototype,e),t}(),w=null,k=function(t){if(!document.getElementById(t))return console.warn("MicroModal: ❗Seems like you have missed %c'".concat(t,"'"),"background-color: #f8f9fa;color: #50596c;font-weight: bold;","ID somewhere in your code. Refer example below to resolve it."),console.warn("%cExample:","background-color: #f8f9fa;color: #50596c;font-weight: bold;",'<div class="modal" id="'.concat(t,'"></div>')),!1},E=function(t,e){if(function(t){t.length<=0&&(console.warn("MicroModal: ❗Please specify at least one %c'micromodal-trigger'","background-color: #f8f9fa;color: #50596c;font-weight: bold;","data attribute."),console.warn("%cExample:","background-color: #f8f9fa;color: #50596c;font-weight: bold;",'<a href="#" data-micromodal-trigger="my-modal"></a>'))}(t),!e)return!0;for(var o in e)k(o);return!0},{init:function(t){var e=Object.assign({},{openTrigger:"data-micromodal-trigger"},t),o=b(document.querySelectorAll("[".concat(e.openTrigger,"]"))),i=function(t,e){var o=[];return t.forEach((function(t){var i=t.attributes[e].value;void 0===o[i]&&(o[i]=[]),o[i].push(t)})),o}(o,e.openTrigger);if(!0!==e.debugMode||!1!==E(o,i))for(var n in i){var r=i[n];e.targetModal=n,e.triggers=b(r),w=new p(e)}},show:function(t,e){var o=e||{};o.targetModal=t,!0===o.debugMode&&!1===k(t)||(w&&w.removeEventListeners(),(w=new p(o)).showModal())},close:function(t){t?w.closeModalById(t):w.closeModal()}});"undefined"!=typeof window&&(window.MicroModal=A);var M=A;(window.statik=window.statik||{}).utils=e}();