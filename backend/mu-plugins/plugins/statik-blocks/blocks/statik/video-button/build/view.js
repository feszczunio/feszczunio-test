var StatikVideoButtonBlock;!function(){"use strict";var t={d:function(e,o){for(var n in o)t.o(o,n)&&!t.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:o[n]})},o:function(t,e){return Object.prototype.hasOwnProperty.call(t,e)}},e={};t.d(e,{default:function(){return n}});var o=window.statik.utils;function n(t){let{attributes:e}=t;document.addEventListener("DOMContentLoaded",(()=>{new i(document.querySelector(`.wp-block-${e.blockId}`),e).init()}))}class i{constructor(t,e){this.element=t,this.attributes=e,this.button=this.element.querySelector(".wp-block-statik-video-button__link"),this.blockId=this.attributes.blockId,this.modalUrl=this.attributes.blockAtts.url,this.modalContainerElement=null}init(){this.registerEffects()}registerEffects(){this.button.addEventListener("click",(t=>{t.preventDefault(),this.appendModal(),this.openModal()}))}appendModal(){if(this.modalContainerElement)return;const t=this.getModalHtml(),e=document.createElement("template");e.innerHTML=t.trim(),this.modalContainerElement=e.content.firstChild,document.body.appendChild(this.modalContainerElement)}openModal(){const t=this.getModalConfig();o.MicroModal.show(`modal-video-${this.blockId}`,t)}destroyModal(){this.modalContainerElement&&(this.modalContainerElement.remove(),this.modalContainerElement=null)}getModalHtml(){return`\n\t\t<div id="modal-video-${this.blockId}" class="modal micromodal-slide" aria-hidden="true">\n\t\t\t<div class="modal__overlay">\n\t\t\t\t<div class="modal__content"> \n\t\t\t\t\t<button class="modal__close" aria-label="Close modal" data-micromodal-close></button> \n\t\t\t\t\t<iframe id="modal-iframe-${this.blockId}" width="560" height="315" src="${this.modalUrl}" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t\t`}getModalConfig(){return{disableScroll:!0,awaitCloseAnimation:!0,onClose:t=>{const e=this;t.addEventListener("animationend",(function o(){e.destroyModal(),t.removeEventListener("animationend",o,!1)}),!1)}}}}StatikVideoButtonBlock=e.default}();